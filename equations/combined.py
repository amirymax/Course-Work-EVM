def combined_method(f, fp, a, b, eps, max_iter=50):
    """
    Комбинированный метод: слева Ньютона, справа хорды.
    Возвращает приближённый корень и число итераций.
    """
    if f(a) * f(b) >= 0:
        raise ValueError("Интервал [a, b] выбран неверно: нет смены знака функции.")

    n = 0

    while True:
        # проверка на нулевую производную
        if fp(a) == 0 or fp(b) == 0:
            raise ZeroDivisionError("Производная равна нулю. Выберите другой интервал.")

        # шаг метода касательных (для левой границы)
        an = a - f(a) / fp(a)
        # шаг метода хорд (для правой границы)
        bn = b - f(b) * (a - b) / (f(a) - f(b))

        d = abs(bn - an)
        n += 1

        if d <= eps:
            # усредняем границы как итоговое приближение
            return (an + bn) / 2.0, n

        if n > max_iter:
            raise RuntimeError("Количество итераций превысило допустимый предел")

        a, b = an, bn
